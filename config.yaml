# Configuración para optimización de rutas de fibra en AutoCAD

# Configuración general
general:
  mostrar_grafo_completo: true
  max_radius: 20 # Radio de búsqueda para entrar a la red vial.
  umbral_desprecio_acceso: 3.0 # Metros para considerar distancia=0 (poste)
  tolerance: 0.01 # Tolerancia para comparaciones geométricas

# Configuración del sistema y visualización
sistema:
  unidades: "metros"
  usar_logger_archivo: true
  usar_logger_consola: true

# Configuración de visualización y estilos
visualizacion:
  color_ok: 3 # Verde
  color_error: 1 # Rojo
  color_debug: 6 # Magenta
  color_grafo: 8 # Gris
  radio_nodo_debug: 0.2 # Tamaño de los puntos del grafo debug
  radio_error: 5.0 # Radio del círculo rojo de error
  color_error_layer: 1 # Capa para círculos de error

# Configuración de etiquetas y texto en el plano
etiquetas:
  offset_y: 1.5 # Offset vertical para etiquetas de rutas
  altura_texto: 1.0 # Tamaño de letra en el plano
  capa_texto: "0" # Capa por defecto si falla la debug
  alineacion: 13 # 13 = Bottom Center en AutoCAD

# Configuración de capas y estilos para el grafo vial
tolerancias:
  snap_grafo_vial: 0.1 # Fusión de nodos cercanos en la calle
  radio_busqueda_acceso: 20.0 # Máxima distancia para buscar una calle desde un equipo
  radio_snap_equipos: 5.0 # Distancia para asociar polilínea a equipo (antes estaba en 2.0 en otro lado)

# Configuración de rutas y tolerancias
rutas:
  capa_red_vial: "CAT_LINEA DE RED EXISTENTE"
  capa_tramos_logicos: "TRAMO"
  capa_debug: "DEBUG_RUTAS_CALCULADAS"
  tolerancia_snap_equipos: 2.0 # Metros para detectar equipo cerca de la punta
  umbral_desprecio_acceso: 3.0 # Metros para considerar distancia=0 (poste)
  offset_visual_debug: 0.5 # Desplazamiento de la línea dibujada

# Catálogo de equipos y sus relaciones para la topología
equipos:
  xbox: ["X_BOX_P", "X_BOX_EXISTENTE"]
  hbox: ["HBOX_3.5P", "HBOX_4.0P"]
  fat_int: ["FAT_INT_3.0_P", "FAT_INT_3.5_P"]
  fat_final: ["FAT_FINAL_3.0_P", "FAT_FINAL_3.5_P"]
  fat_out: ["FAT_OUT_FIN_P", "FAT_OUT_EXP"]

# Configuracion de salida de capas
capas_resultado:
  prefijo_capa: "CABLE PRECONECT"

# Catálogo de cables y reglas topológicas
catalogo_cables:
  mpo_300:
    nombre_tecnico: "MPO 12H SM"
    longitudes: [300]
    reserva_minima: 15

  distribucion_std:
    nombre_tecnico: "2H SM"
    longitudes: [200, 150, 100]
    reserva_minima: 10

  acometida_expansion:
    nombre_tecnico: "1H SM"
    longitudes: [100, 50]
    reserva_minima: 10

# Reglas topológicas para selección de cables
reglas_topologia:
  - origen_grupo: "xbox"
    destino_grupo: "hbox"
    id_catalogo: "mpo_300"

  - origen_grupo: "hbox"
    destino_grupo: "fat_int"
    id_catalogo: "distribucion_std"

  - origen_grupo: "fat_int"
    destino_grupo: "fat_int"
    id_catalogo: "distribucion_std"

  - origen_grupo: "fat_int"
    destino_grupo: "fat_final"
    id_catalogo: "distribucion_std"

  - origen_grupo: "fat_int"
    destino_grupo: "fat_out"
    id_catalogo: "acometida_expansion"

  - origen_grupo: "fat_final"
    destino_grupo: "fat_out"
    id_catalogo: "acometida_expansion"
